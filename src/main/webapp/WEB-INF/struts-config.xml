<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts-config PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
        "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>

    <form-beans>
        <form-bean name="LoginActionForm" type="actionForms.LoginActionForm"/>
        <form-bean name="RegisterActionForm" type=""
        <form-bean name="ClientAddVKGroupActionForm" type="actionForms.ClientAddVKGroupActionForm"/>
        <form-bean name="ClientAddVKProfileActionForm" type="actionForms.ClientAddVKProfileActionForm"/>
        <form-bean name="CodeVKActionForm" type="actionForms.CodeVKActionForm"/>
    </form-beans>

    <action-mappings>
        <action path="/index"
                forward="/WEB-INF/jsp/index.jsp"/>
        <!--Логин пользователя-->
        <action path="/login"
                type="actions.LoginAction"
                name="LoginActionForm"
                scope="request"
                parameter="unused">
            <forward name="clientPage" path="/private/client/page/main.do" redirect="true"/>
        </action>
        <!--Главная страница пользователя с его продуктами, данными по остаткам-->
        <action path="/private/client/page/main"
                type="actions.ClientMainPageAction"
                name="LoginActionForm"
                scope="request"
                parameter="unused">
            <forward name="success" path="/WEB-INF/jsp/clientStartPage.jsp"/>
        </action>
        <!--Форма регистрации в приложении-->
        <action path="/register"
                type="actions.RegisterAction"
                name="RegisterActionForm"
                scope="request"
                parameter="unused">
            <forward name="success" path="/private/client/page/main.do" redirect="true"/>
        </action>
        <!--Привязка аккаунта соцсети к профилю-->
        <action path="/private/client/addVKProfile"
                type="actions.ClientAddVKProfileAction"
                name="ClientAddVKProfileActionForm"
                scope="request"
                parameter="unused">
            <forward name="success" path="WEB-INF/jsp/addVKProfile.jsp"/>
        </action>
        <!--Добавление группы для администрирования-->
        <action path="/private/client/addVKGroup"
                type="actions.ClientAddVKGroupAction"
                name="ClientAddVKGroupActionForm"
                scope="request"
                parameter="unused">
            <forward name="success" path="WEB-INF/jsp/addVKGroup.jsp"/>
        </action>
        <!--Редактирование групп для администрирования-->
        <action path="/private/vklogin"
                type="actions.VKRedirectAction">
            <forward name="redirect" path="https://oauth.vk.com/authorize?"/>
        </action>
        <!--Получение code от vk.com-->
        <action path="/private/redirect/uri"
                type="actions.CodeVKAction"
                name="CodeVKActionForm"
                scope="request"
                parameter="unused">
            <forward name="success" path="/private/client/page/main.do"/>
        </action>

    </action-mappings>


</struts-config>